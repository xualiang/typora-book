# 介绍

## SPEC组织

SPEC是标准性能评估公司（Standard Performance Evaluation Corporation）的简称。SPEC是由计算机厂商、系统集成商、大学、研究机构、咨询等多家公司组成的非营利性组织，这个组织的目标是建立、维护一套用于评估计算机系统的标准。

## 测试工具

SPEC CPU测试中，测试系统的**处理器**、**内存**子系统和使用到的**编译器**（SPEC CPU提供的是源代码，并且允许测试用户进行一定的编译优化）都会影响最终的测试性能，而**I/O（磁盘）、网络、操作系统和图形子系统**对于SPEC CPU2006的影响非常的小。

SPEC CPU92 -> SPEC CPU2000 -> SPEC CPU2006 -> SPEC CPU2017

SPEC Power测试性能、功耗，结果展示：性能/功耗=能效值

还有很多其他的测试工具，请见官网！

## SPEC CPU测试类型

两种测试类型：整形运算、浮点型运算

SPEC CPU2006包含两个测试套件：CINT2006、CFP2006，基于C、C++、Fortran语言开发

CINT2006：12个测试项

CFP2006：17个测试项

## SPEC CPU测试内容

包含：速度测试（speed）、吞吐量测试（rate）

**speed：**针对单任务的计算速度测试；

**rate：**针对系统运行多任务的吞吐量进行测试

以上两种模式都有**基值（Base）和峰值（Peak）**两个性能衡量指标。Base测试对编译有严格规定，比如：仅仅允许使用一种编译器、编译优化选项不能超过4个等。而peak测试可以针对不同的测试项目使用不同的编译器和不同的优化选项，从而让各项测试的结果达到最优。

如果遇到peak峰值小于Base基值的情况，执行测试命令时，可以使用rawformat参数进行反转。

# 测试

## 测试流程

1. OS的选择与安装
2. 安装依赖函数库
3. 安装speccpu
4. 自己编译测试程序或使用芯片厂商提供的二进制文件（例如：Intel提供基于icc编译的二进制，性能甚至高出数倍）
5. 优化BIOS配置
6. 优化环境配置（低温实验室、风扇全速等）
7. 运行->调优->运行->调优......

## 测试结果

测试输入数据大小分为：**test、train、ref**，前两钟没有测试结果，**只有ref有测试结果**。

正式发布时要求：ref测试3次，**取3次的中间值**发布。3次的结果相差很小，所以内部测试时，不必重复测试多次。

可以到官网上查看友商发布的测试结果，因为测试结果中详细记录了各种配置信息，可以用来参考。

## 结果发布

测试结果在result文件夹下，有rsf/txt/html/sub/csv/pdf等格式的文件，需要查看测试结果是否有效，无效的结果文件中存在**invalid**关键字。若无效，需要找出原因重测。若有效，根据实际测试软硬件情况编辑rsf文件，提交至subcpu2006@spec.org。

发布策略：

1. 如果结果很好，世界第一、第二，可以发布
2. 如果结果不好，倒数或者离记录很远，不用去发布，否则在投标时，会被友商控标。
3. CPU发布时，CPU厂商会邀请整机厂商进行测试，会同时发布性能最好的整机。



https://v.youku.com/v_show/id_XMzczMDMyOTI5Mg==