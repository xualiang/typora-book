需求：

使用无线访问外网。

使用网线访问内网。

 

解决方法：

1.在网络设置中，调整网络顺序。

wifi第一，有线第二。



2.进入控制台，删除默认路由。 

route -n delete 0.0.0.0

 

3.增加默认路由到无线网路

route -n add 0.0.0.0 192.168.31.1



4.关闭无线网，连接有线网。（这一步比较重要，是为了让增加有线路由的时候选择正确的连接网卡）   

 

5.增加有线的路由。

​    route -n add 130.30.15.117 130.30.3.1

（对于内网，我只需访问117这一台机器）

  

6.打开wifi，内外网均成功。

 

查看路由：netstat -nr



### route命令

mac route命令同时访问内外网 
sudo route -n add -net 192.168.0.0 -netmask 255.255.255.0 192.168.5.254 
sudo route -n add -net 192.168.3.0 -netmask 255.255.255.0 192.168.5.254 
sudo route -n add -net 192.168.2.0 -netmask 255.255.255.0 192.168.5.254

Windows route命令同时访问内外网 
route add -p 192.168.3.0 mask 255.255.255.0 192.168.5.254 
route add -p 192.168.0.0 mask 255.255.255.0 192.168.5.254 

作者：不羁的小卓子 
来源：CSDN 
原文：https://blog.csdn.net/zhuo212/article/details/47336063 
版权声明：本文为博主原创文章，转载请附上博文链接！